(this["webpackJsonppikachu-test-task"]=this["webpackJsonppikachu-test-task"]||[]).push([[0],{73:function(e,t,n){},75:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(26),a=n.n(c),i=(n(73),n(16)),s=n(18),o=n(10),l=n.n(o),j=n(14),u=n(11),d=n(63),b=n(92),h=n(101),p=n(93),f=(n(75),n(98)),O=n(94),x=n(3),m=function(e){var t=e.handleSelect,n=e.pokemonList,c=Object(r.useState)("All"),a=Object(u.a)(c,2),i=a[0],o=a[1],l=Object(r.useState)(["All"]),j=Object(u.a)(l,2),b=j[0],h=j[1];return Object(r.useEffect)((function(){if(n.length){var e=function(e){var t=[];return e.forEach((function(e){e.types.forEach((function(e){t.push(e.type.name)}))})),Object(s.a)(new Set(t))}(n);h(["All"].concat(Object(s.a)(e)))}}),[n]),Object(x.jsxs)(d.a,{direction:"row",wrap:!0,justify:"center",alignSelf:"center",children:[Object(x.jsx)(f.a,{children:"Filter by type"}),Object(x.jsx)(O.a,{margin:{left:"10px"},options:Object(s.a)(b),value:i,onChange:function(e){var n=e.option;o(n),t(n)}})]})},w=n(100),v=n.p+"static/media/spinner-1.4c0dabf6.gif",k=function(){return Object(x.jsx)(d.a,{alignSelf:"center",children:Object(x.jsx)(w.a,{src:v})})},g=n(95),y=function(e){var t=e.handleLoadMore;return Object(x.jsx)(g.a,{onClick:t,alignSelf:"center",primary:!0,size:"medium",margin:"20px 0",label:"Load more"})},S=n(30),N=n.n(S),A=function(e){var t=e.name,n=e.types,r=e.sprites,c=e.id,a=e.setPokemonId,i=r.other.dream_world.front_default,s=function(e){return e[0].toUpperCase()+e.slice(1)},o=s(t);return Object(x.jsxs)(d.a,{onClick:function(){return a(c)},className:"pokemon-card",width:"250px",margin:"5px 2px",border:"all",background:"light-1",justify:"between",children:[Object(x.jsx)(d.a,{className:"card-img-container",alignSelf:"center",children:Object(x.jsx)(w.a,{height:"100%",width:"100%",src:i})}),Object(x.jsxs)(d.a,{children:[Object(x.jsx)(h.a,{level:"3",textAlign:"center",children:o}),Object(x.jsx)(d.a,{direction:"row",children:n.map((function(e){return Object(x.jsx)(d.a,{className:"card-type-box ".concat(e.type.name),children:s(e.type.name)},N()())}))})]})]})},P=n(27),C=function(e){var t=e.name,n=e.types,r=e.sprites,c=e.stats,a=e.weight,s=e.moves,o=e.id,l=null===r||void 0===r?void 0:r.other.dream_world.front_default,j=function(e){return e[0].toUpperCase()+e.slice(1)},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),{},Object(P.a)({},t.stat.name,t.base_stat))}),{})}(c),b=j(t);return Object(x.jsxs)(d.a,{className:"pokemon-details",margin:"5px 2px",border:"all",background:"light-1",justify:"between",children:[Object(x.jsx)(d.a,{className:"details-img-container",alignSelf:"center",children:Object(x.jsx)(w.a,{height:"150px",width:"100%",src:l})}),Object(x.jsxs)(d.a,{children:[Object(x.jsxs)(h.a,{level:"3",textAlign:"center",children:[b," #",o]}),Object(x.jsxs)(d.a,{border:"all",className:"details-table-container",children:[Object(x.jsxs)(d.a,{direction:"row",children:[Object(x.jsx)(d.a,{className:"border-bottom",justify:"center",width:"70%",children:"Type"}),Object(x.jsx)(d.a,{width:"30%",className:"border-left border-bottom",children:null===n||void 0===n?void 0:n.map((function(e){return Object(x.jsx)("span",{className:"details-type",children:j(e.type.name)},N()())}))})]}),Object(x.jsxs)(d.a,{border:"bottom",direction:"row",children:[Object(x.jsx)(d.a,{width:"70%",children:"Attack"}),Object(x.jsx)(d.a,{width:"30%",border:"left",children:u.attack})]}),Object(x.jsxs)(d.a,{border:"bottom",direction:"row",children:[Object(x.jsx)(d.a,{width:"70%",children:"Defense"}),Object(x.jsx)(d.a,{width:"30%",border:"left",children:u.defense})]}),Object(x.jsxs)(d.a,{border:"bottom",direction:"row",children:[Object(x.jsx)(d.a,{width:"70%",children:"HP"}),Object(x.jsx)(d.a,{width:"30%",border:"left",children:u.hp})]}),Object(x.jsxs)(d.a,{border:"bottom",direction:"row",children:[Object(x.jsx)(d.a,{width:"70%",children:"SP"}),Object(x.jsx)(d.a,{width:"30%",border:"left",children:u["special-attack"]})]}),Object(x.jsxs)(d.a,{border:"bottom",direction:"row",children:[Object(x.jsx)(d.a,{width:"70%",children:"SD"}),Object(x.jsx)(d.a,{width:"30%",border:"left",children:u["special-defense"]})]}),Object(x.jsxs)(d.a,{border:"bottom",direction:"row",children:[Object(x.jsx)(d.a,{width:"70%",children:"Speed"}),Object(x.jsx)(d.a,{width:"30%",border:"left",children:u.speed})]}),Object(x.jsxs)(d.a,{border:"bottom",direction:"row",children:[Object(x.jsx)(d.a,{width:"70%",children:"Weight"}),Object(x.jsx)(d.a,{width:"30%",border:"left",children:a})]}),Object(x.jsxs)(d.a,{direction:"row",children:[Object(x.jsx)(d.a,{width:"70%",children:"Total moves"}),Object(x.jsx)(d.a,{width:"30%",border:"left",children:s.length})]})]})]})]})},I=function(e){var t=e.pokemonId,n=Object(r.useState)(!1),c=Object(u.a)(n,2),a=c[0],s=c[1],o=Object(r.useState)(null),b=Object(u.a)(o,2),h=b[0],p=b[1];function f(e){return O.apply(this,arguments)}function O(){return(O=Object(j.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),alert("SWW");case 15:return e.prev=15,s(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])})))).apply(this,arguments)}Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,f("https://pokeapi.co/api/v2/pokemon/".concat(t));case 3:n=e.sent,p(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);return Object(x.jsx)(d.a,{className:"details-container-wrapper",children:Object(x.jsx)(d.a,{className:"details-container",children:a?Object(x.jsx)(d.a,{className:"pokemon-details",children:Object(x.jsx)(k,{})}):function(e){return e&&t?Object(x.jsx)(C,Object(i.a)({},e)):Object(x.jsx)(x.Fragment,{})}(h)})})};var L=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)("All"),o=Object(u.a)(a,2),f=o[0],O=o[1],w=Object(r.useState)(!1),v=Object(u.a)(w,2),g=v[0],S=v[1],N=Object(r.useState)(""),P=Object(u.a)(N,2),C=P[0],L=P[1],E=Object(r.useState)(null),F=Object(u.a)(E,2),_=F[0],T=F[1];function D(e){return W.apply(this,arguments)}function W(){return(W=Object(j.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),alert("Something went wrong, try again later");case 15:return e.prev=15,S(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])})))).apply(this,arguments)}var B=function(){var e=Object(j.a)(l.a.mark((function e(){var t,r,a,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=15;break}return e.next=3,D(C);case 3:return t=e.sent,e.next=6,null===t||void 0===t?void 0:t.results.map((function(e){return e.url}));case 6:return r=e.sent,a=r.map(function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=10,Promise.all(a);case 10:i=e.sent,c([].concat(Object(s.a)(n),Object(s.a)(i))),L(t.next),e.next=16;break;case 15:alert("It's all pokemons");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){return null===e||void 0===e?void 0:e.map((function(e){return D(e.url)}))},e.next=3,D("https://pokeapi.co/api/v2/pokemon/?limit=12");case 3:return n=e.sent,L(n.next),e.next=7,Promise.all(t(null===n||void 0===n?void 0:n.results));case 7:r=e.sent,c(r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(x.jsxs)(d.a,{className:"App",children:[Object(x.jsx)(b.a,{width:"100%",background:"brand",justify:"center",className:"App-header",children:Object(x.jsx)(h.a,{children:"Pokedex"})}),Object(x.jsxs)(p.a,{direction:"row",children:[Object(x.jsxs)(d.a,{className:"pokemons-container",children:[Object(x.jsx)(m,{pokemonList:n,handleSelect:function(e){O(e)}}),Object(x.jsx)(d.a,{justify:"center",direction:"row",wrap:!0,children:function(e){if("All"===e)return n;var t=n;return t=t.filter((function(t){return t.types.some((function(t){return t.type.name===e}))}))}(f).map((function(e){return Object(x.jsx)(A,Object(i.a)({setPokemonId:T},e),e.id)}))}),g?Object(x.jsx)(k,{}):Object(x.jsx)(y,{handleLoadMore:B})]}),Object(x.jsx)(I,{pokemonId:_})]})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},F=n(96);a.a.render(Object(x.jsx)(F.a,{plain:!0,children:Object(x.jsx)(L,{})}),document.getElementById("root")),E()}},[[83,1,2]]]);
//# sourceMappingURL=main.9a486837.chunk.js.map