(this["webpackJsonppikachu-test-task"]=this["webpackJsonppikachu-test-task"]||[]).push([[0],{73:function(e,t,n){},75:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(25),a=n.n(c),i=(n(73),n(18)),s=n.n(i),o=n(14),l=n(16),j=n(28),d=n(10),b=n(63),u=n(92),h=n(101),p=n(93),O=(n(75),n(98)),f=n(94),x=n(3),m=function(e){var t=e.handleSelect,n=e.pokemonList,c=Object(r.useState)("All"),a=Object(d.a)(c,2),i=a[0],s=a[1],o=Object(r.useState)(["All"]),j=Object(d.a)(o,2),u=j[0],h=j[1];return Object(r.useEffect)((function(){if(n.length){var e=function(e){var t=[];return e.forEach((function(e){e.types.forEach((function(e){t.push(e.type.name)}))})),Object(l.a)(new Set(t))}(n);h(["All"].concat(Object(l.a)(e)))}}),[n]),Object(x.jsxs)(b.a,{direction:"row",alignSelf:"center",children:[Object(x.jsx)(O.a,{children:"Filter by type"}),Object(x.jsx)(f.a,{margin:{left:"10px"},options:Object(l.a)(u),value:i,onChange:function(e){var n=e.option;s(n),t(n)}})]})},w=n(100),v=n.p+"static/media/spinner-1.4c0dabf6.gif",g=function(){return Object(x.jsx)(b.a,{alignSelf:"center",children:Object(x.jsx)(w.a,{src:v})})},k=n(95),y=function(e){var t=e.handleLoadMore;return Object(x.jsx)(k.a,{onClick:t,alignSelf:"center",primary:!0,size:"medium",margin:"20px 0",label:"Load more"})},S=n(30),N=n.n(S),A=function(e){var t=e.name,n=e.types,r=e.sprites,c=e.id,a=e.setPocemonId,i=r.other.dream_world.front_default,s=function(e){return e[0].toUpperCase()+e.slice(1)},o=s(t);return Object(x.jsxs)(b.a,{onClick:function(){return a(c)},className:"pokemon-card",width:"250px",margin:"5px 2px",border:"all",background:"light-1",justify:"between",children:[Object(x.jsx)(b.a,{className:"card-img-container",alignSelf:"center",children:Object(x.jsx)(w.a,{height:"100%",width:"100%",src:i})}),Object(x.jsxs)(b.a,{children:[Object(x.jsx)(h.a,{level:"3",textAlign:"center",children:o}),Object(x.jsx)(b.a,{direction:"row",children:n.map((function(e){return Object(x.jsx)(b.a,{className:"card-type-box ".concat(e.type.name),children:s(e.type.name)},N()())}))})]})]})},P=n(26),C=function(e){var t=e.name,n=e.types,r=e.sprites,c=e.stats,a=e.weight,i=e.moves,s=e.id,l=null===r||void 0===r?void 0:r.other.dream_world.front_default,j=function(e){return e[0].toUpperCase()+e.slice(1)},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(P.a)({},t.stat.name,t.base_stat))}),{})}(c),u=j(t);return Object(x.jsxs)(b.a,{className:"pokemon-details",margin:"5px 2px",border:"all",background:"light-1",justify:"between",children:[Object(x.jsx)(b.a,{className:"details-img-container",alignSelf:"center",children:Object(x.jsx)(w.a,{height:"150px",width:"100%",src:l})}),Object(x.jsxs)(b.a,{children:[Object(x.jsxs)(h.a,{level:"3",textAlign:"center",children:[u," #",s]}),Object(x.jsxs)(b.a,{border:"all",className:"details-table-container",children:[Object(x.jsxs)(b.a,{direction:"row",children:[Object(x.jsx)(b.a,{className:"border-bottom",justify:"center",width:"70%",children:"Type"}),Object(x.jsx)(b.a,{width:"30%",className:"border-left border-bottom",children:null===n||void 0===n?void 0:n.map((function(e){return Object(x.jsx)("span",{className:"details-type",children:j(e.type.name)},N()())}))})]}),Object(x.jsxs)(b.a,{border:"bottom",direction:"row",children:[Object(x.jsx)(b.a,{width:"70%",children:"Attack"}),Object(x.jsx)(b.a,{width:"30%",border:"left",children:d.attack})]}),Object(x.jsxs)(b.a,{border:"bottom",direction:"row",children:[Object(x.jsx)(b.a,{width:"70%",children:"Defense"}),Object(x.jsx)(b.a,{width:"30%",border:"left",children:d.defense})]}),Object(x.jsxs)(b.a,{border:"bottom",direction:"row",children:[Object(x.jsx)(b.a,{width:"70%",children:"HP"}),Object(x.jsx)(b.a,{width:"30%",border:"left",children:d.hp})]}),Object(x.jsxs)(b.a,{border:"bottom",direction:"row",children:[Object(x.jsx)(b.a,{width:"70%",children:"SP"}),Object(x.jsx)(b.a,{width:"30%",border:"left",children:d["special-attack"]})]}),Object(x.jsxs)(b.a,{border:"bottom",direction:"row",children:[Object(x.jsx)(b.a,{width:"70%",children:"SD"}),Object(x.jsx)(b.a,{width:"30%",border:"left",children:d["special-defense"]})]}),Object(x.jsxs)(b.a,{border:"bottom",direction:"row",children:[Object(x.jsx)(b.a,{width:"70%",children:"Speed"}),Object(x.jsx)(b.a,{width:"30%",border:"left",children:d.speed})]}),Object(x.jsxs)(b.a,{border:"bottom",direction:"row",children:[Object(x.jsx)(b.a,{width:"70%",children:"Weight"}),Object(x.jsx)(b.a,{width:"30%",border:"left",children:a})]}),Object(x.jsxs)(b.a,{direction:"row",children:[Object(x.jsx)(b.a,{width:"70%",children:"Total moves"}),Object(x.jsx)(b.a,{width:"30%",border:"left",children:i.length})]})]})]})]})},I=function(e){var t=e.pokemonId,n=Object(r.useState)(!1),c=Object(d.a)(n,2),a=c[0],i=c[1],l=Object(r.useState)(null),u=Object(d.a)(l,2),h=u[0],p=u[1];function O(){return(O=Object(j.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),alert("SWW");case 15:return e.prev=15,i(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])})))).apply(this,arguments)}Object(r.useEffect)((function(){t&&function(e){return O.apply(this,arguments)}("https://pokeapi.co/api/v2/pokemon/".concat(t)).then((function(e){return p(e)}))}),[t]);return Object(x.jsx)(b.a,{className:"details-container-wrapper",children:Object(x.jsx)(b.a,{className:"details-container",children:a?Object(x.jsx)(b.a,{className:"pokemon-details",children:Object(x.jsx)(g,{})}):function(e){return e&&t?Object(x.jsx)(C,Object(o.a)({},e)):Object(x.jsx)(x.Fragment,{})}(h)})})};var L=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)("All"),i=Object(d.a)(a,2),O=i[0],f=i[1],w=Object(r.useState)(!1),v=Object(d.a)(w,2),k=v[0],S=v[1],N=Object(r.useState)(""),P=Object(d.a)(N,2),C=P[0],L=P[1],E=Object(r.useState)(null),F=Object(d.a)(E,2),_=F[0],T=F[1];function D(e){return W.apply(this,arguments)}function W(){return(W=Object(j.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),alert("Something went wrong, try again later");case 15:return e.prev=15,S(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){D("https://pokeapi.co/api/v2/pokemon/?limit=12").then((function(e){var t;L(e.next),Promise.all((t=null===e||void 0===e?void 0:e.results,null===t||void 0===t?void 0:t.map((function(e){return D(e.url)})))).then((function(e){return c(e)}))}))}),[]),Object(x.jsxs)(b.a,{className:"App",children:[Object(x.jsx)(u.a,{width:"100%",background:"brand",justify:"center",className:"App-header",children:Object(x.jsx)(h.a,{children:"Pokedex"})}),Object(x.jsxs)(p.a,{direction:"row",children:[Object(x.jsxs)(b.a,{className:"pokemons-container",children:[Object(x.jsx)(m,{pokemonList:n,handleSelect:function(e){f(e)}}),Object(x.jsx)(b.a,{justify:"center",direction:"row",wrap:!0,children:function(e){if("All"===e)return n;var t=n;return t=t.filter((function(t){return t.types.some((function(t){return t.type.name===e}))}))}(O).map((function(e){return Object(x.jsx)(A,Object(o.a)({setPocemonId:T},e),e.id)}))}),k?Object(x.jsx)(g,{}):Object(x.jsx)(y,{handleLoadMore:function(){C?D(C).then((function(e){var t=(null===e||void 0===e?void 0:e.results.map((function(e){return e.url}))).map((function(e){return D(e)}));Promise.all(t).then((function(e){return c([].concat(Object(l.a)(n),Object(l.a)(e)))})),L(e.next)})):alert("It's all pokemons")}})]}),Object(x.jsx)(I,{pokemonId:_})]})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},F=n(96);a.a.render(Object(x.jsx)(F.a,{plain:!0,children:Object(x.jsx)(L,{})}),document.getElementById("root")),E()}},[[83,1,2]]]);
//# sourceMappingURL=main.1231c8c6.chunk.js.map